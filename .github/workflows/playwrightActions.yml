name: Playwright Tests

on:
  workflow_dispatch:
   inputs:
      choice:
        type: choice
        description: Select the environment
        options:
        - Playwright Tests
                 
      OperatingSystem:
        type: choice
        description: select OS
        options:
        - Windows
        - 'OS X'
        
      OperatingSystemVersion:
        type: choice
        description: Select OS Version
        options:
        - '10'
        - Monterey     
        
      boolean:
        type: choice
        description: select browser
        options:
        - Chrome
        - Firefox
        - Safari

      name:
       type: choice
       description: Select Test case
       options:
        - All
        - example.spec.ts
        - example1.spec.ts
        
jobs:
  build:
    if: ${{ inputs.name == 'All' }}
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '20'
      
    - name: Install dependencies
      run: npm install
        
    - name: Run Playwright tests
      run: npx playwright test --project=playwrightTypeScript --retries=2
  
  build2:
    if: ${{ inputs.name != 'All' }}
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '20'
      
    - name: Install dependencies
      run: npm install
        
    - name: Run Playwright tests
      run: npx playwright test ${{ inputs.name }} --project=playwrightTypeScript
